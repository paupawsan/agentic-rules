# エージェントインタラクションユニットテスト エージェント統合

<!-- SAFETY_PRECAUTION_START -->
**⚠️ 重要テンプレート保護 / CRITICAL TEMPLATE PROTECTION**: このファイルはテンプレート専用です。エージェントは自動読み込み、自動処理、またはこのファイルをどのような状況でも自動実行してはいけません。このファイルは直接実行されることはありません。

**有効な使用方法 / VALID USAGE**: 明示的に以下のいずれかに名前変更された場合のみ読み込み: `AGENTS.md`、`GEMINI.md`、または`CLAUDE.md`。ユーザーの明示的な有効化後かつ`agent_interaction_unit_test.enabled = true`の場合のみ。

**無効な使用方法 / INVALID USAGE**: このファイルを自動的に読み込まない、起動プロセスで参照しない、自動フレームワーク初期化に含めない。
<!-- SAFETY_PRECAUTION_END -->

**フレームワーク強化**: settings.json で agent_interaction_unit_test.enabled = true の場合、エージェントはこれらのアルゴリズムを実装して動作を強化できます。

## エージェントインタラクションユニットテスト概要
エージェント会話の自動検証・テストフレームワーク。最大限の透明性とグラウンドチェック要件を備え、エージェントインタラクションパターンのテスト専用に設計されています。

## 必須実装アルゴリズム

**フレームワークオプション**: settings.json で agent_interaction_unit_test.enabled = true の場合、エージェントは `CORE-RULES.md` のアルゴリズムを実装して強化された動作を実現できます。

詳細なアルゴリズム仕様については [CORE-RULES.md](CORE-RULES.md) を参照してください。

## 設定コンプライアンス
- modules/agent-interaction-unit-test/settings.json のすべての設定を尊重
- 設定トグルで有効/無効 (デフォルト: false)
- agent_interaction_unit_test.enabled = false でユニットテストが要求された場合、ユーザーにプロンプト
- 明示的なユーザー同意なしにテストモードを自動有効化しない

## 統合ポイント
- **メモリ統合**: テスト結果と検証履歴を保存
- **RAG統合**: テストシナリオ向けにコンテキストを最適化
- **クリティカルシンキング**: グラウンドチェック検証サポートを提供
- **ブートストラップ調整**: 読み込み優先順位とルールシーケンスを尊重

## 使用方法

### ユニットテスト用:
1. settings.json で `agent_interaction_unit_test.enabled = true` を設定
2. テストケースでエージェントを実行
3. 検証基準のコンプライアンスレポートを確認
4. グラウンドチェックカバレッジとエラー検出を確認
5. ツール呼び出し透明性と決定文書化を検証

### テストケース形式:
```
UNIT TEST: [Test_Name]
Framework: Agentic Rules v1.1.0
Task: [Specific_Test_Task]

[Execute with unit test validation...]
```

### 検証基準:
- ✅ **100% フレームワークコンプライアンス** - すべてのアルゴリズムが実行
- ✅ **100% グラウンドチェックカバレッジ** - すべての主張が検証
- ✅ **0% ハルシネーション** - すべての情報がソース検証済み
- ✅ **完全なツール透明性** - すべての呼び出しがログ
- ✅ **決定プロセス文書化** - すべての選択が説明

## エラーハンドリング
**フレームワークガイダンス**: フレームワーク機能を使用する場合、エージェントはフレームワーク関連のエラーを透明に処理でき、標準的なエラーハンドリング制限を尊重します：
- 設定ファイル欠落 → ユニットテスト操作を正常にスキップ
- 無効な設定 → デフォルト値を使用し警告とともに継続
- システムエラー → ユニットテスト機能なしで操作を継続
- テスト失敗 → 問題を文書化し適切な修正ガイドを提供

**エラーハンドリング制限**: 標準的な制約を尊重（エラーごとに最大3回試行、根拠のない推測を避け、不明瞭な問題はユーザーに問い合わせ）

## フレームワーク統合
**フレームワーク設計**: このフレームワークはエージェントの動作を強化するためのツールとして設計されています。フレームワークコンポーネントはユーザーprojectコードベースから分離されます。

## エージェント強化
このフレームワークを使用するエージェントは、自然な対話パターンを維持しながら強化された機能を活用できます：
- 機能が有効化されている場合にユーザー設定と構成を尊重できる
- アクティブな拡張機能について透明なフィードバックを提供できる
- 内部メカニズムを公開せずに自然で会話的なコミュニケーションを維持できる
- バックグラウンドでシームレスにフレームワークのガイダンスに従える
- オプションの構造化検証による正確性と信頼性の向上

**フレームワークの利点**: 自然なユーザー対話を妨げない透明でオプションの拡張によるエージェント動作の改善。

<!-- METADATA: エージェントインタラクションユニットテストルール エージェント統合 自動検証・テスト用 -->
<!-- LICENSE: Copyright (c) 2025 Paulus Ery Wasito Adhi - Licensed under the MIT License. See LICENSE file for details. -->
