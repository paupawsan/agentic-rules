# Integrasi Agen Aturan RAG

<!-- SAFETY_PRECAUTION_START -->
**⚠️ PERLINDUNGAN TEMPLATE KRITIS**: File ini adalah TEMPLATE SAJA. Agen TIDAK BOLEH memuat otomatis, membaca otomatis, atau memproses otomatis file ini dalam keadaan apa pun. File ini TIDAK PERNAH dieksekusi secara langsung.

**PENGGUNAAN VALID**: Hanya muat template ini ketika secara eksplisit diganti nama menjadi salah satu dari: `AGENTS.md`, `GEMINI.md`, atau `CLAUDE.md` SETELAH aktivasi eksplisit fitur RAG pengguna.

**PENGGUNAAN TIDAK VALID**: Jangan muat file ini secara otomatis, jangan referensikan dalam proses startup, jangan sertakan dalam inisialisasi kerangka kerja otomatis apa pun.
<!-- SAFETY_PRECAUTION_END -->

**PENINGKATAN KERANGKA**: Ketika rag_rules.enabled = true di settings.json, agen dapat mengimplementasikan algoritma ini untuk pemrosesan konteks, pembuatan grafik pengetahuan, dan kemampuan pembelajaran mandiri yang lebih baik.

## Arsitektur Sistem RAG
- **Optimasi Konteks**: Prioritaskan informasi yang relevan
- **Pembacaan Hierarkis**: Baca file secara strategis, bukan berurutan
- **Skor Relevansi**: Bobot informasi berdasarkan kepentingan dan kedalaman waktu
- **Manajemen Konteks Dinamis**: Sesuaikan jendela konteks dengan persyaratan tugas

## Algoritma Implementasi yang Diperlukan

### Algoritma: Context_Optimization_Process
**WAJIB**: Eksekusi sebelum respons pengguna apa pun ketika diaktifkan

**Langkah-langkah**:
1. Periksa rag_rules.enabled = true
2. Analisis permintaan pengguna dan konteks yang tersedia
3. Skor relevansi informasi menggunakan kedalaman waktu, kepentingan, dan relevansi tugas
4. Prioritaskan pembacaan hierarkis: ringkasan → bagian kunci → detail
5. Optimalkan jendela konteks untuk kepadatan informasi maksimum
6. Kembalikan konteks yang dioptimalkan untuk generasi respons

### Algoritma: Information_Retrieval_Process
**WAJIB**: Eksekusi ketika mengumpulkan informasi untuk respons

**Langkah-langkah**:
1. Periksa rag_rules.enabled = true
2. Identifikasi persyaratan informasi dari query pengguna
3. Cari file yang relevan menggunakan pemahaman semantik
4. Terapkan pola pembacaan hierarkis
5. Ekstrak dan rangking potongan informasi yang relevan
6. Integrasikan dengan sistem memori untuk konteks yang dipersonalisasi

### Algoritma: Response_Quality_Assurance
**WAJIB**: Eksekusi setelah menghasilkan respons

**Langkah-langkah**:
1. Periksa rag_rules.enabled = true
2. Validasi respons terhadap informasi sumber
3. Pastikan semua klaim didukung oleh konteks yang diambil
4. Tandai kesenjangan informasi atau asumsi apa pun
5. Optimalkan kelengkapan dan akurasi respons

### Algoritma: Runtime_Knowledge_Graph_Generation
**TERSEDIA**: Eksekusi selama percakapan dan pemrosesan dokumen untuk pembelajaran dinamis

**Langkah-langkah**:
1. Periksa rag_rules.enabled = true dan knowledge_graph.enabled = true
2. Ekstrak entitas, hubungan, dan konsep dari percakapan/dokumen saat ini
3. Identifikasi hubungan semantik antara elemen yang diekstrak
4. Perbarui grafik pengetahuan runtime dengan koneksi dan pola baru
5. Perkuat hubungan yang ada berdasarkan frekuensi dan kedaluwarsa
6. Pangkas node yang kedaluwarsa atau lemah terhubung untuk mempertahankan efisiensi grafik
7. Simpan status grafik untuk persistensi di seluruh sesi

**Implementasi**:
```
Algoritma: Structured_Entity_Extraction
1. Tokenisasi input teks menjadi kalimat dan kata
2. Terapkan penandaan part-of-speech untuk mengidentifikasi frasa kata benda
3. Gunakan pola pengenalan entitas bernama untuk Person/Organization/Location/Concept
4. Terapkan penyaringan berbasis aturan dan penilaian kepercayaan
5. Kembalikan entitas yang diurutkan berdasarkan kepercayaan dan frekuensi

Algoritma: Pattern_Based_Relation_Extraction
1. Identifikasi struktur kalimat yang mengandung beberapa entitas
2. Terapkan pencocokkan pola sintaksis untuk triple subjek-kata kerja-objek
3. Gunakan pengenalan pola leksikal untuk hubungan berbasis kata kerja dan majemuk
4. Terapkan template hubungan domain-spesifik
5. Validasi hubungan terhadap aturan konsistensi

Algoritma: Incremental_Graph_Builder
1. Tambahkan entitas baru sebagai node dengan metadata tipe dan atribut
2. Tambahkan hubungan sebagai edge terarah/tidak terarah dengan metadata kepercayaan
3. Terapkan pemeriksaan konsistensi grafik dan pengoptimalan
4. Persistensi status grafik dengan metadata timestamp:
   - Jika memory_rules.enabled = true: Simpan di sistem memori persisten
   - Jika memory_rules.enabled = false: Simpan di konteks khusus sesi
```

### Algoritma: Knowledge_Graph_Query_Enhancement
**TERSEDIA**: Eksekusi selama pengambilan informasi untuk memanfaatkan hubungan yang dipelajari

**Langkah-langkah**:
1. Periksa rag_rules.enabled = true dan knowledge_graph.enabled = true
2. Analisis query pengguna untuk entitas dan konsep
3. Query grafik pengetahuan untuk informasi dan koneksi terkait
4. Identifikasi hubungan tidak langsung dan jalur inferensi
5. Ambil informasi terkait kontekstual di luar kecocokan kata kunci langsung
6. Peringkat hasil menggunakan pusat grafik dan kekuatan hubungan
7. Perbarui grafik pengetahuan dengan hubungan baru yang ditemukan selama pemrosesan query

**Implementasi**:
```
Algoritma: Semantic_Graph_Query
1. Parse query untuk entitas dan intent menggunakan Structured_Entity_Extraction
2. Identifikasi node relevan melalui pencocokkan langsung dan traversal grafik
3. Terapkan pencocokkan kesamaan semantik dengan ekspansi sinonim
4. Peringkat hasil menggunakan penilaian multi-faktor (kepercayaan pencocokkan + pusat + kesamaan)
5. Kembalikan hasil peringkat teratas dengan metadata penjelasan

Algoritma: Adaptive_Graph_Maintenance
1. Analisis pola penggunaan dan terapkan aturan aging/pruning
2. Lakukan restrukturisasi grafik dan pengoptimalan
3. Optimalkan untuk performa query dengan indeks yang diperbarui
4. Persistensi status grafik yang dioptimalkan:
   - Jika memory_rules.enabled = true: Perbarui data grafik tersimpan di memori persisten
   - Jika memory_rules.enabled = false: Pertahankan grafik di konteks sesi saja
5. Hasilkan laporan pemeliharaan dengan statistik
```

### Algoritma: Self_Learning_Pattern_Recognition
**TERSEDIA**: Eksekusi secara berkala untuk mengidentifikasi dan mempelajari pola berulang

**Langkah-langkah**:
1. Periksa rag_rules.enabled = true dan self_learning.enabled = true
2. Analisis pola percakapan dan gaya interaksi pengguna
3. Identifikasi hubungan entitas dan topik yang sering terjadi
4. Temukan preferensi pengguna dan pola komunikasi
5. Perbarui pola perilaku dalam grafik pengetahuan
6. Adaptasi strategi respons berdasarkan pola yang dipelajari
7. Hasilkan wawasan untuk interaksi masa depan yang lebih baik

### Algoritma: Knowledge_Graph_Integration_with_RAG
**TERSEDIA**: Eksekusi untuk menggabungkan pembelajaran berbasis grafik dengan proses RAG tradisional

**Langkah-langkah**:
1. Periksa rag_rules.enabled = true dan knowledge_graph.enabled = true
2. Proses query pengguna melalui RAG tradisional dan grafik pengetahuan
3. Gabungkan hasil menggunakan peringkat cerdas berdasarkan:
   - Kekuatan hubungan grafik
   - Penilaian relevansi tradisional
   - Faktor kedaluwarsa dan penting
4. Hasilkan konteks yang diperkaya yang menggabungkan pengetahuan terstruktur dan teks tak terstruktur
5. Perbarui grafik pengetahuan dengan hubungan baru yang ditemukan selama pemrosesan query
6. Berikan respons komprehensif dengan konteks faktual dan relasional
7. Optimalkan kelengkapan dan akurasi respons

## Konstruksi KG yang Ditingkatkan Python

**KEMAMPUAN LANJUT**: Agen dapat memanfaatkan eksekusi Python untuk konstruksi KG yang ditingkatkan ketika kondisi sistem mengizinkan eksekusi yang aman.

### Algoritma: Python_Enhanced_KG_Construction
**WAJIB**: Eksekusi ketika python_enhancement.enabled = true dan validasi keamanan lulus

**Langkah-langkah**:
1. Periksa python_enhancement.safety_validation_required = true
2. Validasi keamanan dan sandboxing lingkungan eksekusi
3. Verifikasi ketersediaan allowed_modules
4. Hasilkan skrip analisis Python dinamis berdasarkan kebutuhan analisis
5. Eksekusi skrip di lingkungan sandbox dengan batas sumber daya
6. Proses hasil eksekusi ke dalam format KG
7. Gabungkan dengan hasil analisis berbasis teks
8. Log informasi transparansi untuk akses pengguna

**KRITIS**: Selalu pertahankan fallback ke analisis berbasis teks jika eksekusi Python gagal

### Algoritma: Safety_Validation_Check
**WAJIB**: Eksekusi sebelum pembuatan skrip Python apa pun

**Langkah-langkah**:
1. Verifikasi ketersediaan lingkungan eksekusi sandboxed
2. Periksa semua allowed_modules terinstal dan aman
3. Validasi batas sumber daya (max_execution_time, max_memory_mb)
4. Konfirmasi fallback_to_text = true dikonfigurasi
5. Uji fungsionalitas script_validation
6. Kembalikan status validasi

### Algoritma: Dynamic_Script_Generation
**WAJIB**: Hasilkan skrip analisis berdasarkan kebutuhan saat ini

**Langkah-langkah**:
1. Analisis tipe analisis yang diperlukan (imports, classes, functions, dll.)
2. Hasilkan kode parsing AST Python yang sesuai
3. Sertakan penanganan error dan langkah-langkah keamanan
4. Tambahkan fitur logging dan transparansi
5. Validasi skrip yang dihasilkan terhadap aturan keamanan
6. Kembalikan skrip yang dapat dieksekusi

### Algoritma: Sandboxed_Execution
**WAJIB**: Eksekusi skrip yang dihasilkan dengan aman

**Langkah-langkah**:
1. Inisialisasi lingkungan Python sandboxed
2. Tetapkan batas sumber daya dan pemantauan
3. Eksekusi skrip dengan perlindungan timeout
4. Tangkap output dan informasi error
5. Bersihkan lingkungan eksekusi
6. Kembalikan hasil atau status error

### Persyaratan Transparansi
- **WAJIB**: Log semua aktivitas pembuatan dan eksekusi skrip
- **WAJIB**: Berikan perintah transparansi yang dapat diakses pengguna
- **WAJIB**: Dokumentasikan alasan fallback ketika eksekusi Python gagal

## Algoritma Pemilihan dan Penggunaan Alat

### Algoritma: Select_File_Discovery_Tool
**Tujuan**: Tentukan strategi penemuan file optimal berdasarkan persyaratan pencarian

**Langkah-langkah**:
1. Analisis karakteristik target_pencarian untuk pemilihan alat
2. Tentukan cakupan pencarian dan terapkan filter keamanan
3. Pilih alat utama dengan opsi fallback
4. Kembalikan rantai alat komprehensif untuk penemuan file

### Algoritma: Select_Content_Search_Tool
**Tujuan**: Pilih metode pencarian konten yang sesuai untuk berbagai jenis file dan pola query

**Langkah-langkah**:
1. Analisis karakteristik query konten dan properti set file
2. Pilih algoritma pencarian yang dioptimalkan untuk performa
3. Konfigurasi alat dengan parameter yang sesuai
4. Kembalikan alat pencarian dengan strategi fallback

### Algoritma: Detect_Hidden_Files_Algorithm
**Tujuan**: Deteksi file tersembunyi yang komprehensif termasuk dot-file dan file sistem

**Langkah-langkah**:
1. Inisialisasi penemuan file dengan parameter pemindaian komprehensif
2. Gunakan alat pemindaian direktori yang sadar platform
3. Terapkan aturan deteksi file tersembunyi untuk berbagai sistem file
4. Kembalikan daftar file yang dikategorikan dengan klasifikasi keamanan

### Algoritma: Validate_Tool_Usage_Safety
**Tujuan**: Pastikan penggunaan alat yang aman dengan pemeriksaan izin dan keamanan yang tepat

**Langkah-langkah**:
1. Periksa keamanan path dan validasi jenis operasi
2. Terapkan pembatasan keamanan spesifik platform
3. Verifikasi batas sumber daya dan batasan operasi
4. Log operasi untuk jejak audit dan kembalikan izin keamanan

## Implementasi Alat Spesifik

### Alat Sistem File
- **Directory Scanner**: Penjelajahan lengkap dengan metadata (gunakan untuk file tersembunyi, izin)
- **Glob Pattern Matcher**: Penemuan berbasis pola (gunakan untuk jenis file tertentu)
- **Find Command Integration**: Pemfilteran lanjutan (gunakan untuk kriteria kompleks)
- **Stat Metadata Reader**: Properti file tanpa konten (gunakan untuk akses metadata aman)

### Alat Pencarian dan Analisis
- **Regex Pattern Search**: Pencocokkan pola teks kompleks (gunakan untuk pencarian terstruktur)
- **Fuzzy Text Matching**: Pencocokkan string perkiraan (gunakan untuk query fleksibel)
- **JSON/XML Parsers**: Ekstraksi data terstruktur (gunakan untuk file konfigurasi)
- **Code Analysis Tools**: Pemahaman kode semantik (gunakan untuk analisis kode sumber)

## Persyaratan Kritis untuk Agen

**KEPATUHAN WAJIB**: Agen yang mengimplementasikan aturan RAG HARUS mematuhi persyaratan kritis ini:

### Persyaratan Penemuan File
- **DETEKSI FILE TERSEMBUNYI**: Agen HARUS mendeteksi dan memproses file tersembunyi (dot-file seperti .env, .gitignore, .settings)
- **PEMINDAIAN KOMPREHENSIF**: Gunakan alat yang sesuai untuk menemukan SEMUA file, bukan hanya yang terlihat
- **PEMILIHAN ALAT**: Eksekusi algoritma Select_File_Discovery_Tool sebelum operasi file apa pun
- **VALIDASI KEAMANAN**: Eksekusi Validate_Tool_Usage_Safety untuk semua operasi file

**KONSEKUENSI PELANGGARAN**: Agen yang gagal mendeteksi file tersembunyi atau menggunakan alat yang tidak sesuai akan memberikan pemrosesan informasi yang tidak lengkap dan melanggar kepatuhan aturan RAG.

## Kepatuhan Pengaturan
- Hormati semua pengaturan di modules/rag-rules/settings.json
- Terapkan batas context_window_size secara tepat
- Gunakan ambang relevansi yang dikonfigurasi
- Berikan prompt kepada pengguna jika rag_rules.enabled = false dan konteks kompleks diperlukan

## Titik Integrasi
- **Integrasi Memori**: Gunakan konteks tersimpan untuk pengambilan yang dipersonalisasi
- **Berpikir Kritis**: Berikan jaminan kualitas untuk validasi informasi
- **Koordinasi Bootstrap**: Hormati prioritas pemuatan dan interkoneksi

**PELANGGARAN**: Agen yang menggunakan manajemen konteks yang tidak efisien tanpa mengimplementasikan algoritma ini.

<!-- METADATA: Template integrasi agen aturan RAG dengan algoritma optimasi konteks dan pengambilan -->
<!-- LICENSE: Copyright (c) 2025 Paulus Ery Wasito Adhi - Licensed under the MIT License. See LICENSE file for details. -->
