# RAG Rules Agent Integration

**⚠️ SAFETY PRECAUTION**: This is a TEMPLATE file. Agents MUST NOT auto-load this file. Only load when renamed to `AGENTS.md`, `GEMINI.md`, OR `CLAUDE.md` after explicit user activation AND when `rag_rules.enabled = true` in settings.json.

**MANDATORY**: If rag_rules.enabled = true in settings.json, agents MUST implement all algorithms below.

## RAG System Architecture
- **Context Optimization**: Prioritize relevant information
- **Hierarchical Reading**: Read files strategically, not sequentially
- **Relevance Scoring**: Weight information by importance and recency
- **Dynamic Context Management**: Adapt context window to task requirements

## Required Implementation Algorithms

### Algorithm: Context_Optimization_Process
**MANDATORY**: Execute before any user response when enabled

**Steps**:
1. Check rag_rules.enabled = true
2. Analyze user request and available context
3. Score information relevance using recency, importance, and task-relevance
4. Prioritize hierarchical reading: summaries → key sections → details
5. Optimize context window for maximum information density
6. Return optimized context for response generation

### Algorithm: Information_Retrieval_Process
**MANDATORY**: Execute when gathering information for responses

**Steps**:
1. Check rag_rules.enabled = true
2. Identify information requirements from user query
3. Search relevant files using semantic understanding
4. Apply hierarchical reading patterns
5. Extract and rank relevant information chunks
6. Integrate with memory system for personalized context

### Algorithm: Response_Quality_Assurance
**MANDATORY**: Execute after generating responses

**Steps**:
1. Check rag_rules.enabled = true
2. Validate response against source information
3. Ensure all claims are supported by retrieved context
4. Flag any information gaps or assumptions
5. Optimize response completeness and accuracy

## Settings Compliance
- Respect all settings in modules/rag-rules/settings.json
- Apply context_window_size limits appropriately
- Use configured relevance thresholds
- Prompt user if rag_rules.enabled = false and complex context needed

## Integration Points
- **Memory Integration**: Use stored context for personalized retrieval
- **Critical Thinking**: Provide quality assurance for information validation
- **Bootstrap Coordination**: Respect loading priorities and interconnections

**VIOLATION**: Agents using inefficient context management without implementing these algorithms.

<!-- METADATA: RAG rules agent integration template with context optimization and retrieval algorithms -->
<!-- LICENSE: Copyright (c) 2025 Paulus Ery Wasito Adhi - Licensed under the MIT License. See LICENSE file for details. -->
