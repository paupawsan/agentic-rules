# 📚 RAGルールプラグイン (日本語)

## 概要

**RAGルール**プラグインは、AIエージェントに高度な情報処理とコンテキスト最適化機能を付与します。このプラグインは、Retrieval-Augmented Generation (RAG)システムを実装し、エージェントが利用可能な情報からより正確で文脈的に適切な応答を生成できるようにします。

## 🎯 機能

RAGルールは、エージェントが情報を効果的に処理し、文脈を最適化するシステムを提供します：

- **インテリジェント検索**: 関連情報を効率的に検索と取得
- **コンテキスト最適化**: LLMのコンテキストウィンドウを最大限に活用
- **情報統合**: 複数の情報源から洞察を統合
- **知識グラフ学習**: 動的に知識関係を構築・学習
- **自己学習パターン**: ユーザーインタラクションに基づく適応
- **関連性スコアリング**: 最も関連性の高い情報を優先

## ✨ 主な機能

### 検索戦略

#### 1. **階層的ドキュメント処理**
- ドキュメント構造の理解とナビゲーション
- セクションとサブセクションの識別
- 重要度の階層的評価

#### 2. **インテリジェントチャンキング**
- 意味のあるテキストセグメントの自動識別
- コンテキストの完全性の維持
- 重複の最小化

#### 3. **マルチソース統合**
- 複数のドキュメントからの情報統合
- 矛盾の検出と解決
- 包括的な視点の構築

#### 4. **動的コンテキスト管理**
- LLMトークン制限内の最適な情報選択
- 最も関連性の高いコンテンツの優先順位付け
- 冗長性の回避

### 最適化機能

#### 1. **関連性評価**
- クエリ意図の理解
- コンテンツ関連性のスコアリング
- 重要度のランキング

#### 2. **コンテキスト圧縮**
- 重要な情報の凝縮
- 不要な詳細の除去
- 効率的な情報密度の維持

#### 3. **アダプティブ検索**
- クエリタイプに基づく戦略調整
- 過去の成功からの学習
- パフォーマンスの継続的改善

## 🚫 制限と考慮事項

### 技術的制約
- **トークン制限**: LLMのコンテキストウィンドウの制約
- **検索精度**: 利用可能な情報の品質に依存
- **処理時間**: 大規模ドキュメントセットでのレイテンシ
- **言語サポート**: 主に英語コンテンツに最適化

### データ品質の依存
- **情報正確性**: ソース資料の品質に依存
- **更新頻度**: 古くなった情報の処理
- **バイアス伝播**: ソース資料のバイアスを継承

## 🎯 使用事例

### ドキュメントQ&Aシステム
```
使用事例: 製品ドキュメントアシスタント
RAGルールが製品マニュアルから関連情報を検索
ユーザークエリに最も関連性の高いセクションを特定
正確な回答のためのコンテキストを提供
```

### コードベース理解
```
使用事例: コードレビューヘルパー
リポジトリ全体から関連コードを検索
関数とクラスの関係を理解
実装のベストプラクティスを提供
```

### 研究支援
```
使用事例: 研究アシスタント
学術論文と研究資料から関連情報を取得
引用と証拠の適切な統合
包括的な回答の構築
```

## 📝 セットアップと使用法

### 基本セットアップ
```bash
# RAGルールを有効化
"Enable RAG rules for optimal information processing in this project."

# ドキュメントベースを指定
"This project uses documentation in [location]. Remember to search these sources for relevant information."
```

### 高度な構成
```bash
# カスタム検索パラメータを設定
"Configure RAG with chunk_size=1000, overlap=200, and prioritize [document types]."
```

### クエリ最適化
```bash
# 効果的なRAGクエリ
"When answering questions, first search for relevant information in [sources], then provide evidence-based responses."
```

## ⚙️ 設定オプション

### 検索構成
```json
{
  "rag_rules": {
    "enabled": true,
    "chunk_size": 1000,
    "overlap": 200,
    "max_results": 5,
    "similarity_threshold": 0.7
  }
}
```

### ソース構成
```json
{
  "sources": [
    {
      "path": "./docs",
      "type": "markdown",
      "priority": "high"
    },
    {
      "path": "./src",
      "type": "code",
      "priority": "medium"
    }
  ]
}
```

## 🔄 他のルールとの統合

### メモリルールとの協調
- RAGが提供する情報を記憶
- 検索パターンの学習と最適化
- 個人化された情報検索

### 批判的思考ルールとの統合
- 取得した情報の検証
- 矛盾の検出と解決
- 信頼できる情報の確保

### フレームワーク全体との連携
- ブートストラップ設定との統合
- 他のルールとの情報共有
- システム全体の最適化

## 📊 パフォーマンス指標

### 効率性メトリクス
- **検索精度**: 関連結果の割合
- **応答時間**: クエリから回答までの時間
- **コンテキスト利用**: 利用可能なコンテキストの割合
- **ユーザ満足度**: 回答の有用性スコア

### 品質メトリクス
- **正確性**: 提供された情報の正確性
- **完全性**: クエリに対する包括的な回答
- **関連性**: 回答のクエリ適合性
- **新規性**: 新しい洞察の提供

## 🚀 高度な知能機能

### 🧠 **ランタイム知識グラフ生成**
- **動的学習**: 会話とドキュメントから自動的に知識グラフを構築
- **関係性の発見**: エンティティ、概念、アイデア間の接続を特定
- **グラフ進化**: 時間とともに関係性を更新・強化
- **インテリジェントプルーニング**: 古くなった接続を削除して効率を維持

### 🔗 **グラフ強化検索**
- **関係性ベース検索**: キーワードだけでなく接続を通じて情報を検索
- **推論エンジン**: 間接的な関係性と隠れた接続を発見
- **文脈拡張**: 直接一致を超えた関連情報を取得
- **ハイブリッドランキング**: 従来の関連性とグラフ中心性を組み合わせ

### 🎯 **自己学習パターン認識**
- **ユーザ行動分析**: コミュニケーション パターンと好みを学習
- **適応応答**: 学習したパターンに基づいて対話スタイルを調整
- **会話記憶**: 複数のインタラクションにわたるコンテキストを記憶
- **パーソナライズ**: 個々のユーザスタイルに合わせた応答

### ⚡ **インテリジェントコンテキスト融合**
- **マルチソース統合**: 従来のRAGと知識グラフの洞察を組み合わせ
- **動的重み付け**: 事実検索と関係理解のバランス
- **包括的合成**: 多層分析によるより豊かな応答
- **リアルタイム適応**: 各インタラクションで学習・改善

## 🔧 トラブルシューティング

### 検索結果が不正確
```
問題: 関連性の低い情報が返される
解決: 類似性しきい値を調整、クエリを洗練
```

### 処理時間が長い
```
問題: RAGクエリが遅い
解決: チャンクサイズを減らす、結果数を制限
```

### コンテキストが不十分
```
問題: 回答が不完全
解決: より多くのソースを追加、検索パラメータを調整
```

## 📚 関連ドキュメント

- **[RAG-RULES.md](RAG-RULES.md)** - 技術仕様とアルゴリズム
- **[settings.json](settings.json)** - 構成オプション
- **[../../memory-rules/README.md](../../memory-rules/README.md)** - 補完的なメモリ機能
- **[../../../../docs/CORE-RULES.ja.md](../../../../docs/CORE-RULES.ja.md)** - フレームワーク概要

## 🤝 貢献

RAG機能の改善提案がありますか？

- **問題報告**: [GitHub Issues](../../issues)
- **機能リクエスト**: [GitHub Discussions](../../discussions)
- **コード貢献**: RAG改善のプルリクエストを送信

---

**📚 RAGルール**: エージェントに賢い情報検索と処理の力を与える。

*Copyright (c) 2025 Paulus Ery Wasito Adhi. MIT Licenseの下でライセンスされています。*